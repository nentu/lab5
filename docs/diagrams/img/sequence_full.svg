<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css"
     height="1497px" preserveAspectRatio="none" style="width:985px;height:1497px;background:#FFFFFF;" version="1.1"
     viewBox="0 0 985 1497" width="985px" zoomAndPan="magnify">
    <defs/>
    <g>
        <rect fill="#FFFFFF" height="1089.8865" style="stroke:#181818;stroke-width:1.0;" width="10" x="274.5"
              y="117.7739"/>
        <rect fill="#FFFFFF" height="373.7662" style="stroke:#181818;stroke-width:1.0;" width="10" x="445.5"
              y="194.186"/>
        <rect fill="#FFFFFF" height="569.2963" style="stroke:#181818;stroke-width:1.0;" width="10" x="445.5"
              y="599.6582"/>
        <rect fill="#BBBBBB" height="198.2361" style="stroke:#181818;stroke-width:1.0;" width="10" x="450.5"
              y="970.7183"/>
        <rect fill="#FFFFFF" height="1210.0046" style="stroke:#181818;stroke-width:1.0;" width="10" x="570.5"
              y="194.186"/>
        <rect fill="#BBBBBB" height="803.2384" style="stroke:#181818;stroke-width:1.0;" width="10" x="575.5"
              y="304.304"/>
        <rect fill="#BBBBBB" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="575.5" y="1321.4845"/>
        <rect fill="#FFFFFF" height="229.2361" style="stroke:#181818;stroke-width:1.0;" width="10" x="739.5"
              y="631.3642"/>
        <rect fill="#FFFFFF" height="76.412" style="stroke:#181818;stroke-width:1.0;" width="10" x="914.5"
              y="707.7762"/>
        <rect fill="none" height="64.412" style="stroke:#000000;stroke-width:1.5;" width="184" x="523" y="209.186"/>
        <rect fill="none" height="89.118" style="stroke:#000000;stroke-width:1.5;" width="647" x="10" y="319.304"/>
        <rect fill="none" height="83.118" style="stroke:#000000;stroke-width:1.5;" width="228" x="400" y="454.1281"/>
        <rect fill="none" height="64.412" style="stroke:#000000;stroke-width:1.5;" width="184" x="400" y="875.6003"/>
        <rect fill="none" height="83.118" style="stroke:#000000;stroke-width:1.5;" width="228" x="400" y="1017.4243"/>
        <rect fill="none" height="119.118" style="stroke:#000000;stroke-width:1.5;" width="631" x="10" y="1278.0725"/>
        <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="46" x2="46" y1="84.0679"
              y2="1414.1905"/>
        <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="109" x2="109" y1="84.0679"
              y2="1414.1905"/>
        <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="279" x2="279" y1="84.0679"
              y2="1414.1905"/>
        <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="450" x2="450" y1="84.0679"
              y2="1414.1905"/>
        <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="575" x2="575" y1="84.0679"
              y2="1414.1905"/>
        <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="744.5" x2="744.5" y1="84.0679"
              y2="1414.1905"/>
        <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="919.5" x2="919.5" y1="84.0679"
              y2="1414.1905"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="20"
              y="79.9659">Client2
        </text>
        <ellipse cx="46.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/>
        <path d="M46.5,21.5 L46.5,48.5 M33.5,29.5 L59.5,29.5 M46.5,48.5 L33.5,63.5 M46.5,48.5 L59.5,63.5 " fill="none"
              style="stroke:#181818;stroke-width:0.5;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="20"
              y="1428.1565">Client2
        </text>
        <ellipse cx="46.5" cy="1440.7584" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/>
        <path d="M46.5,1448.7584 L46.5,1475.7584 M33.5,1456.7584 L59.5,1456.7584 M46.5,1475.7584 L33.5,1490.7584 M46.5,1475.7584 L59.5,1490.7584 "
              fill="none" style="stroke:#181818;stroke-width:0.5;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="83"
              y="79.9659">Client1
        </text>
        <ellipse cx="109.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/>
        <path d="M109.5,21.5 L109.5,48.5 M96.5,29.5 L122.5,29.5 M109.5,48.5 L96.5,63.5 M109.5,48.5 L122.5,63.5 "
              fill="none" style="stroke:#181818;stroke-width:0.5;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="83"
              y="1428.1565">Client1
        </text>
        <ellipse cx="109.5" cy="1440.7584" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/>
        <path d="M109.5,1448.7584 L109.5,1475.7584 M96.5,1456.7584 L122.5,1456.7584 M109.5,1475.7584 L96.5,1490.7584 M109.5,1475.7584 L122.5,1490.7584 "
              fill="none" style="stroke:#181818;stroke-width:0.5;"/>
        <rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81"
              x="239" y="30.9321"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="246.5"
              y="52.898">ClientApp
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="246"
              y="71.9659">Controller
        </text>
        <rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81"
              x="239" y="1413.1905"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="246.5"
              y="1435.1565">ClientApp
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="246"
              y="1454.2244">Controller
        </text>
        <rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81"
              x="410" y="50"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="417"
              y="71.9659">UDPClient
        </text>
        <rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81"
              x="410" y="1413.1905"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="417"
              y="1435.1565">UDPClient
        </text>
        <rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85"
              x="533" y="50"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="540"
              y="71.9659">UDPServer
        </text>
        <rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="85"
              x="533" y="1413.1905"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="540"
              y="1435.1565">UDPServer
        </text>
        <rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84"
              x="702.5" y="30.9321"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="709.5"
              y="52.898">ServerApp
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="711"
              y="71.9659">Controller
        </text>
        <rect fill="#E2E2F0" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84"
              x="702.5" y="1413.1905"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="709.5"
              y="1435.1565">ServerApp
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="711"
              y="1454.2244">Controller
        </text>
        <rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72"
              x="883.5" y="50"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="890.5"
              y="71.9659">Executor
        </text>
        <rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72"
              x="883.5" y="1413.1905"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="890.5"
              y="1435.1565">Executor
        </text>
        <rect fill="#FFFFFF" height="1089.8865" style="stroke:#181818;stroke-width:1.0;" width="10" x="274.5"
              y="117.7739"/>
        <rect fill="#FFFFFF" height="373.7662" style="stroke:#181818;stroke-width:1.0;" width="10" x="445.5"
              y="194.186"/>
        <rect fill="#FFFFFF" height="569.2963" style="stroke:#181818;stroke-width:1.0;" width="10" x="445.5"
              y="599.6582"/>
        <rect fill="#BBBBBB" height="198.2361" style="stroke:#181818;stroke-width:1.0;" width="10" x="450.5"
              y="970.7183"/>
        <rect fill="#FFFFFF" height="1210.0046" style="stroke:#181818;stroke-width:1.0;" width="10" x="570.5"
              y="194.186"/>
        <rect fill="#BBBBBB" height="803.2384" style="stroke:#181818;stroke-width:1.0;" width="10" x="575.5"
              y="304.304"/>
        <rect fill="#BBBBBB" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="575.5" y="1321.4845"/>
        <rect fill="#FFFFFF" height="229.2361" style="stroke:#181818;stroke-width:1.0;" width="10" x="739.5"
              y="631.3642"/>
        <rect fill="#FFFFFF" height="76.412" style="stroke:#181818;stroke-width:1.0;" width="10" x="914.5"
              y="707.7762"/>
        <polygon fill="#181818" points="262.5,113.7739,272.5,117.7739,262.5,121.7739,266.5,117.7739"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="109.5" x2="268.5" y1="117.7739" y2="117.7739"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="116.5"
              y="111.9649">APICommand
        </text>
        <line style="stroke:#181818;stroke-width:1.0;" x1="284.5" x2="326.5" y1="149.4799" y2="149.4799"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="326.5" x2="326.5" y1="149.4799" y2="162.4799"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="285.5" x2="326.5" y1="162.4799" y2="162.4799"/>
        <polygon fill="#181818" points="295.5,158.4799,285.5,162.4799,295.5,166.4799,291.5,162.4799"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="291.5"
              y="143.6709">prepare APIRequest
        </text>
        <polygon fill="#181818" points="433.5,190.186,443.5,194.186,433.5,198.186,437.5,194.186"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="284.5" x2="439.5" y1="194.186" y2="194.186"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="291.5"
              y="188.377">send(SocketMessage)
        </text>
        <path d="M523,209.186 L596,209.186 L596,218.892 L586,228.892 L523,228.892 L523,209.186 " fill="#EEEEEE"
              style="stroke:#000000;stroke-width:1.5;"/>
        <rect fill="none" height="64.412" style="stroke:#000000;stroke-width:1.5;" width="184" x="523" y="209.186"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="28" x="538" y="224.083">loop
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="91" x="611" y="222.9449">[until InitFrame]
        </text>
        <line style="stroke:#181818;stroke-width:1.0;" x1="580.5" x2="622.5" y1="252.598" y2="252.598"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="622.5" x2="622.5" y1="252.598" y2="265.598"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="622.5" y1="265.598" y2="265.598"/>
        <polygon fill="#181818" points="591.5,261.598,581.5,265.598,591.5,269.598,587.5,265.598"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="587.5"
              y="246.789">wait for message
        </text>
        <polygon fill="#181818" points="563.5,300.304,573.5,304.304,563.5,308.304,567.5,304.304"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="455.5" x2="569.5" y1="304.304" y2="304.304"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="462.5"
              y="298.495">InitFrame
        </text>
        <path d="M10,319.304 L73,319.304 L73,329.01 L63,339.01 L10,339.01 L10,319.304 " fill="#EEEEEE"
              style="stroke:#000000;stroke-width:1.5;"/>
        <rect fill="none" height="89.118" style="stroke:#000000;stroke-width:1.5;" width="647" x="10" y="319.304"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="18" x="25" y="334.201">alt
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="166" x="88" y="333.0629">[other client tried to connect]
        </text>
        <polygon fill="#181818" points="563.5,358.716,573.5,362.716,563.5,366.716,567.5,362.716"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="46.5" x2="569.5" y1="362.716" y2="362.716"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="53.5"
              y="356.907">InitFrame
        </text>
        <path d="M504,375.716 L504,402.716 L647,402.716 L647,385.716 L637,375.716 L504,375.716 " fill="#FEFFDD"
              style="stroke:#181818;stroke-width:0.5;"/>
        <path d="M637,375.716 L637,385.716 L647,385.716 L637,375.716 " fill="#FEFFDD"
              style="stroke:#181818;stroke-width:0.5;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="510"
              y="394.6131">put Client2 to queue
        </text>
        <polygon fill="#181818" points="466.5,435.1281,456.5,439.1281,466.5,443.1281,462.5,439.1281"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="460.5" x2="574.5" y1="439.1281"
              y2="439.1281"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="472.5"
              y="433.3191">ACK
        </text>
        <path d="M400,454.1281 L473,454.1281 L473,463.8341 L463,473.8341 L400,473.8341 L400,454.1281 " fill="#EEEEEE"
              style="stroke:#000000;stroke-width:1.5;"/>
        <rect fill="none" height="83.118" style="stroke:#000000;stroke-width:1.5;" width="228" x="400" y="454.1281"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="28" x="415" y="469.0251">loop
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="118" x="488" y="467.887">[until all frames sent]
        </text>
        <polygon fill="#181818" points="563.5,493.5401,573.5,497.5401,563.5,501.5401,567.5,497.5401"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="455.5" x2="569.5" y1="497.5401" y2="497.5401"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="462.5"
              y="491.7311">FRAME[i]
        </text>
        <polygon fill="#181818" points="466.5,525.2461,456.5,529.2461,466.5,533.2461,462.5,529.2461"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="460.5" x2="574.5" y1="529.2461"
              y2="529.2461"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="472.5"
              y="523.4371">ACK
        </text>
        <polygon fill="#181818" points="295.5,563.9521,285.5,567.9521,295.5,571.9521,291.5,567.9521"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="289.5" x2="449.5" y1="567.9521"
              y2="567.9521"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="301.5"
              y="562.1431">send ended
        </text>
        <polygon fill="#181818" points="433.5,595.6582,443.5,599.6582,433.5,603.6582,437.5,599.6582"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="284.5" x2="439.5" y1="599.6582" y2="599.6582"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="291.5"
              y="593.8492">receive()
        </text>
        <polygon fill="#181818" points="727.5,627.3642,737.5,631.3642,727.5,635.3642,731.5,631.3642"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="585.5" x2="733.5" y1="631.3642" y2="631.3642"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="592.5"
              y="625.5552">SocketMessage
        </text>
        <line style="stroke:#181818;stroke-width:1.0;" x1="749.5" x2="791.5" y1="663.0702" y2="663.0702"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="791.5" x2="791.5" y1="663.0702" y2="676.0702"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="750.5" x2="791.5" y1="676.0702" y2="676.0702"/>
        <polygon fill="#181818" points="760.5,672.0702,750.5,676.0702,760.5,680.0702,756.5,676.0702"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="756.5"
              y="657.2612">convert to AppRequest
        </text>
        <polygon fill="#181818" points="902.5,703.7762,912.5,707.7762,902.5,711.7762,906.5,707.7762"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="749.5" x2="908.5" y1="707.7762" y2="707.7762"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="756.5"
              y="701.9672">APICommand
        </text>
        <line style="stroke:#181818;stroke-width:1.0;" x1="924.5" x2="966.5" y1="739.4822" y2="739.4822"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="966.5" x2="966.5" y1="739.4822" y2="752.4822"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="925.5" x2="966.5" y1="752.4822" y2="752.4822"/>
        <polygon fill="#181818" points="935.5,748.4822,925.5,752.4822,935.5,756.4822,931.5,752.4822"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="931.5"
              y="733.6732">execute
        </text>
        <polygon fill="#181818" points="760.5,780.1882,750.5,784.1882,760.5,788.1882,756.5,784.1882"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="754.5" x2="918.5" y1="784.1882"
              y2="784.1882"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="766.5"
              y="778.3792">APICommandResponse
        </text>
        <line style="stroke:#181818;stroke-width:1.0;" x1="749.5" x2="791.5" y1="815.8943" y2="815.8943"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="791.5" x2="791.5" y1="815.8943" y2="828.8943"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="750.5" x2="791.5" y1="828.8943" y2="828.8943"/>
        <polygon fill="#181818" points="760.5,824.8943,750.5,828.8943,760.5,832.8943,756.5,828.8943"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="756.5"
              y="810.0853">convert to AppResponse
        </text>
        <polygon fill="#181818" points="596.5,856.6003,586.5,860.6003,596.5,864.6003,592.5,860.6003"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="590.5" x2="743.5" y1="860.6003"
              y2="860.6003"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="602.5"
              y="854.7913">send(SocketMessage)
        </text>
        <path d="M400,875.6003 L473,875.6003 L473,885.3063 L463,895.3063 L400,895.3063 L400,875.6003 " fill="#EEEEEE"
              style="stroke:#000000;stroke-width:1.5;"/>
        <rect fill="none" height="64.412" style="stroke:#000000;stroke-width:1.5;" width="184" x="400" y="875.6003"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="28" x="415" y="890.4973">loop
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="91" x="488" y="889.3592">[until InitFrame]
        </text>
        <line style="stroke:#181818;stroke-width:1.0;" x1="455.5" x2="497.5" y1="919.0123" y2="919.0123"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="497.5" x2="497.5" y1="919.0123" y2="932.0123"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="456.5" x2="497.5" y1="932.0123" y2="932.0123"/>
        <polygon fill="#181818" points="466.5,928.0123,456.5,932.0123,466.5,936.0123,462.5,932.0123"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="462.5"
              y="913.2033">wait for message
        </text>
        <polygon fill="#181818" points="471.5,966.7183,461.5,970.7183,471.5,974.7183,467.5,970.7183"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="465.5" x2="574.5" y1="970.7183" y2="970.7183"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="477.5"
              y="964.9093">InitFrame
        </text>
        <polygon fill="#181818" points="563.5,998.4243,573.5,1002.4243,563.5,1006.4243,567.5,1002.4243"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="460.5" x2="569.5" y1="1002.4243"
              y2="1002.4243"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="467.5"
              y="996.6153">ACK
        </text>
        <path d="M400,1017.4243 L473,1017.4243 L473,1027.1304 L463,1037.1304 L400,1037.1304 L400,1017.4243 "
              fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
        <rect fill="none" height="83.118" style="stroke:#000000;stroke-width:1.5;" width="228" x="400" y="1017.4243"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="28" x="415" y="1032.3214">loop
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="118" x="488" y="1031.1833">[until all frames sent]
        </text>
        <polygon fill="#181818" points="471.5,1056.8364,461.5,1060.8364,471.5,1064.8364,467.5,1060.8364"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="465.5" x2="574.5" y1="1060.8364" y2="1060.8364"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="477.5"
              y="1055.0274">FRAME[i]
        </text>
        <polygon fill="#181818" points="563.5,1088.5424,573.5,1092.5424,563.5,1096.5424,567.5,1092.5424"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="460.5" x2="569.5" y1="1092.5424"
              y2="1092.5424"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="467.5"
              y="1086.7334">ACK
        </text>
        <polygon fill="#181818" points="295.5,1127.2484,285.5,1131.2484,295.5,1135.2484,291.5,1131.2484"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="289.5" x2="449.5" y1="1131.2484"
              y2="1131.2484"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="301.5"
              y="1125.4394">SocketMessage
        </text>
        <line style="stroke:#181818;stroke-width:1.0;" x1="284.5" x2="326.5" y1="1167.9544" y2="1167.9544"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="326.5" x2="326.5" y1="1167.9544" y2="1180.9544"/>
        <line style="stroke:#181818;stroke-width:1.0;" x1="279.5" x2="326.5" y1="1180.9544" y2="1180.9544"/>
        <polygon fill="#181818" points="289.5,1176.9544,279.5,1180.9544,289.5,1184.9544,285.5,1180.9544"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="291.5"
              y="1162.1454">process as AppResponse
        </text>
        <polygon fill="#181818" points="120.5,1203.6604,110.5,1207.6604,120.5,1211.6604,116.5,1207.6604"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="114.5" x2="278.5" y1="1207.6604"
              y2="1207.6604"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="126.5"
              y="1201.8514">APICommandResponse
        </text>
        <path d="M514,1220.6604 L514,1265.6604 L636,1265.6604 L636,1230.6604 L626,1220.6604 L514,1220.6604 "
              fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/>
        <path d="M626,1220.6604 L626,1230.6604 L636,1230.6604 L626,1220.6604 " fill="#FEFFDD"
              style="stroke:#181818;stroke-width:0.5;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="520"
              y="1239.5575">return to Client2
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="520"
              y="1257.2635">from queue
        </text>
        <path d="M10,1278.0725 L73,1278.0725 L73,1287.7785 L63,1297.7785 L10,1297.7785 L10,1278.0725 " fill="#EEEEEE"
              style="stroke:#000000;stroke-width:1.5;"/>
        <rect fill="none" height="119.118" style="stroke:#000000;stroke-width:1.5;" width="631" x="10" y="1278.0725"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="18" x="25" y="1292.9695">alt
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="168" x="88" y="1291.8314">[Start messaging with client 2]
        </text>
        <polygon fill="#181818" points="57.5,1317.4845,47.5,1321.4845,57.5,1325.4845,53.5,1321.4845"
                 style="stroke:#181818;stroke-width:1.0;"/>
        <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51.5" x2="574.5" y1="1321.4845"
              y2="1321.4845"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="63.5"
              y="1315.6755">ACK
        </text>
        <path d="M519,1364.4845 L519,1391.4845 L631,1391.4845 L631,1374.4845 L621,1364.4845 L519,1364.4845 "
              fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/>
        <path d="M621,1364.4845 L621,1374.4845 L631,1374.4845 L621,1364.4845 " fill="#FEFFDD"
              style="stroke:#181818;stroke-width:0.5;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="525"
              y="1383.3815">process client 2
        </text><!--MD5=[7de2b0a0733356d5aaad96b1a5f6f4fc]
@startuml

actor Client2 as C2
actor Client1 as U
participant "ClientApp\nController" as CA
participant UDPClient as C
participant UDPServer as S
participant "ServerApp\nController" as SA
participant Executor as E

U -> CA: APICommand
activate CA
CA -> CA: prepare APIRequest

CA -> C: send(SocketMessage)

activate C

activate S
loop until InitFrame
S -> S: wait for message
end loop

C -> S: InitFrame
activate S #BBB

alt other client tried to connect
C2 -> S: InitFrame
note over S : put Client2 to queue
end alt

S - -> C: ACK
loop until all frames sent
C -> S: FRAME[i]
S - -> C: ACK
end loop
C - -> CA: send ended
deactivate C

CA -> C: receive()
activate C


S -> SA: SocketMessage
'deactivate S

activate SA
SA -> SA: convert to AppRequest
SA -> E: APICommand

activate E
E -> E: execute
E - -> SA: APICommandResponse
deactivate E

SA -> SA: convert to AppResponse
SA - -> S: send(SocketMessage)
deactivate SA

'activate S #BBB

loop until InitFrame
C -> C: wait for message
end loop

S -> C: InitFrame
activate C #BBB

C - -> S: ACK
loop until all frames sent
S -> C: FRAME[i]
C - -> S: ACK
end loop
deactivate S

C - -> CA: SocketMessage
CA -> CA: process as AppResponse
deactivate C
deactivate C

CA - -> U: APICommandResponse
deactivate CA

note over S : return to Client2 \nfrom queue

alt Start messaging with client 2
S - -> C2: ACK
activate S #BBB
note over S: process client 2
deactivate S
end alt

deactivate S

@enduml

@startuml

actor Client2 as C2
actor Client1 as U
participant "ClientApp\nController" as CA
participant UDPClient as C
participant UDPServer as S
participant "ServerApp\nController" as SA
participant Executor as E

U -> CA: APICommand
activate CA
CA -> CA: prepare APIRequest

CA -> C: send(SocketMessage)

activate C

activate S
loop until InitFrame
S -> S: wait for message
end loop

C -> S: InitFrame
activate S #BBB

alt other client tried to connect
C2 -> S: InitFrame
note over S : put Client2 to queue
end alt

S - -> C: ACK
loop until all frames sent
C -> S: FRAME[i]
S - -> C: ACK
end loop
C - -> CA: send ended
deactivate C

CA -> C: receive()
activate C


S -> SA: SocketMessage

activate SA
SA -> SA: convert to AppRequest
SA -> E: APICommand

activate E
E -> E: execute
E - -> SA: APICommandResponse
deactivate E

SA -> SA: convert to AppResponse
SA - -> S: send(SocketMessage)
deactivate SA


loop until InitFrame
C -> C: wait for message
end loop

S -> C: InitFrame
activate C #BBB

C - -> S: ACK
loop until all frames sent
S -> C: FRAME[i]
C - -> S: ACK
end loop
deactivate S

C - -> CA: SocketMessage
CA -> CA: process as AppResponse
deactivate C
deactivate C

CA - -> U: APICommandResponse
deactivate CA

note over S : return to Client2 \nfrom queue

alt Start messaging with client 2
S - -> C2: ACK
activate S #BBB
note over S: process client 2
deactivate S
end alt

deactivate S

@enduml

PlantUML version 1.2022.7(Mon Aug 22 20:01:30 MSK 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
-->
    </g>
</svg>